<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CV Genius - Professional CV Maker</title>
        <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="style.css" />
    </head>

    <body data-bs-theme="light">
        <button id="themeToggle" class="theme-toggle" title="Toggle dark mode">
            <i class="fas fa-sun sun-icon"></i>
            <i class="fas fa-moon moon-icon d-none"></i>
        </button>

        <div
            id="loadingOverlay"
            class="position-fixed top-0 start-0 w-100 h-100 d-none align-items-center justify-content-center"
            style="
                background: rgba(255, 255, 255, 0.8);
                backdrop-filter: blur(5px);
                z-index: 1050;
            "
        >
            <div class="text-center">
                <div class="spinner-border text-primary mb-3" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="text-muted">Loading your CV...</p>
            </div>
        </div>

        <div class="container-fluid px-4 py-4">
            <header class="mb-5 text-center">
                <div
                    class="header-gradient text-white py-5 px-4 position-relative"
                >
                    <div
                        class="position-absolute top-0 end-0 opacity-25"
                        style="
                            width: 16rem;
                            height: 16rem;
                            background: rgba(255, 255, 255, 0.1);
                            border-radius: 50%;
                            transform: translate(8rem, -8rem);
                        "
                    ></div>
                    <div
                        class="position-absolute bottom-0 start-0 opacity-25"
                        style="
                            width: 12rem;
                            height: 12rem;
                            background: rgba(255, 255, 255, 0.1);
                            border-radius: 50%;
                            transform: translate(-6rem, 6rem);
                        "
                    ></div>

                    <div class="position-relative">
                        <h1 class="display-3 fw-bold mb-4 animate-fade-in">
                            <img
                                src="favicon.svg"
                                alt="CV Genius Logo"
                                width="48"
                                height="48"
                                class="me-3"
                                style="vertical-align: inherit"
                            />CV Genius
                        </h1>
                        <p
                            class="lead mb-4 animate-fade-in"
                            style="animation-delay: 0.2s"
                        >
                            Build your professional CV with AI-powered
                            suggestions and beautiful templates
                        </p>
                        <div class="d-flex justify-content-center mb-3">
                            <small class="text-light opacity-75">
                                <i class="fas fa-save me-1"></i>Auto-save
                                enabled
                            </small>
                        </div>
                        <div
                            class="d-flex flex-wrap justify-content-center gap-2 animate-fade-in"
                            style="animation-delay: 0.4s"
                        >
                            <span
                                class="badge bg bg-opacity-25 px-3 py-2 rounded-pill"
                            >
                                <i class="fas fa-magic me-1"></i>AI-Powered
                            </span>
                            <span
                                class="badge bg bg-opacity-25 px-3 py-2 rounded-pill"
                            >
                                <i class="fas fa-mobile-alt me-1"></i>Responsive
                            </span>
                            <span
                                class="badge bg bg-opacity-25 px-3 py-2 rounded-pill"
                            >
                                <i class="fas fa-palette me-1"></i>Professional
                            </span>
                            <span
                                class="badge bg bg-opacity-25 px-3 py-2 rounded-pill"
                            >
                                <i class="fas fa-print me-1"></i>Print-Ready
                            </span>
                        </div>
                    </div>
                </div>
            </header>

            <div class="row g-4">
                <div class="col-12 col-lg-4 col-xl-4">
                    <div class="sticky-top" style="top: 2rem">
                        <div class="card card-custom mb-4">
                            <div class="card-body p-4">
                                <div class="d-flex align-items-center mb-4">
                                    <div class="section-icon bg-primary me-3">
                                        <i class="fas fa-cogs"></i>
                                    </div>
                                    <h2 class="h4 mb-0 fw-bold">CV Controls</h2>
                                </div>

                                <div
                                    class="card mb-4 add-content-card"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #e3f2fd,
                                            #f3e5f5
                                        );
                                        border: 1px solid #bbdefb;
                                    "
                                >
                                    <div class="card-body">
                                        <h3
                                            class="h6 fw-bold text-primary mb-3 d-flex align-items-center"
                                        >
                                            <i
                                                class="fas fa-plus-circle me-2"
                                            ></i
                                            >Add Content
                                        </h3>
                                        <button
                                            id="addSectionBtn"
                                            class="btn btn-primary btn-custom w-100 mb-3 hover-lift"
                                        >
                                            <i class="fas fa-plus me-2"></i>Add
                                            New Section
                                        </button>
                                        <select
                                            id="sectionTypeSelect"
                                            class="form-select form-control-custom d-none mb-3"
                                        >
                                            <option value="summary">
                                                üìù Summary/Objective
                                            </option>
                                            <option value="experience">
                                                üíº Experience
                                            </option>
                                            <option value="education">
                                                üéì Education
                                            </option>
                                            <option value="skills">
                                                ‚ö° Skills
                                            </option>
                                            <option value="custom">
                                                üîß Custom Section
                                            </option>
                                        </select>
                                        <button
                                            id="confirmAddSectionBtn"
                                            class="btn btn-primary btn-custom w-100 d-none"
                                        >
                                            <i class="fas fa-check me-2"></i
                                            >Confirm Add
                                        </button>

                                        <div class="mt-3 pt-3 border-top">
                                            <h4
                                                class="small fw-bold text-muted mb-2"
                                            >
                                                Section Tools
                                            </h4>
                                            <div class="row g-2">
                                                <div class="col-6">
                                                    <button
                                                        onclick="cvGenius.reorderAllSections()"
                                                        class="btn btn-outline-secondary btn-sm w-100"
                                                    >
                                                        <i
                                                            class="fas fa-sort me-1"
                                                        ></i
                                                        >Reorder
                                                    </button>
                                                </div>
                                                <div class="col-6">
                                                    <button
                                                        onclick="cvGenius.showBulkActions()"
                                                        class="btn btn-outline-secondary btn-sm w-100"
                                                    >
                                                        <i
                                                            class="fas fa-tasks me-1"
                                                        ></i
                                                        >Bulk Edit
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3
                                        class="h6 fw-bold mb-3 d-flex align-items-center"
                                    >
                                        <i
                                            class="fas fa-tools me-2 text-primary"
                                        ></i
                                        >Actions
                                    </h3>
                                    <!-- Global language selector -->
                                    <div class="mb-3">
                                        <label
                                            for="globalLanguage"
                                            class="form-label small fw-medium text-secondary"
                                        >
                                            <i class="fas fa-globe me-1"></i>
                                            Language:
                                        </label>
                                        <div class="multi-select-wrapper">
                                            <div
                                                class="multi-select-display form-control form-control-sm"
                                                onclick="toggleLanguageSelect()"
                                            >
                                                <span
                                                    class="multi-select-text"
                                                    id="languageDisplayText"
                                                    >Select language</span
                                                >
                                                <i
                                                    class="fas fa-chevron-down multi-select-arrow"
                                                ></i>
                                            </div>
                                            <div
                                                class="multi-select-dropdown"
                                                id="language-dropdown"
                                            >
                                                <div
                                                    class="multi-select-search"
                                                >
                                                    <input
                                                        type="text"
                                                        placeholder="Search language..."
                                                        onkeyup="filterLanguageOptions(this.value)"
                                                    />
                                                </div>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('English')"
                                                >
                                                    <span>üá∫üá∏ English</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Polish')"
                                                >
                                                    <span>üáµüá± Polish</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Spanish')"
                                                >
                                                    <span>üá™üá∏ Spanish</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('French')"
                                                >
                                                    <span>üá´üá∑ French</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('German')"
                                                >
                                                    <span>üá©üá™ German</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Italian')"
                                                >
                                                    <span>üáÆüáπ Italian</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Portuguese')"
                                                >
                                                    <span>üáµüáπ Portuguese</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Russian')"
                                                >
                                                    <span>üá∑üá∫ Russian</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Chinese')"
                                                >
                                                    <span>üá®üá≥ Chinese</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Japanese')"
                                                >
                                                    <span>üáØüáµ Japanese</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Korean')"
                                                >
                                                    <span>üá∞üá∑ Korean</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Hindi')"
                                                >
                                                    <span>üáÆüá≥ Hindi</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Arabic')"
                                                >
                                                    <span>üá∏üá¶ Arabic</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Dutch')"
                                                >
                                                    <span>üá≥üá± Dutch</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Turkish')"
                                                >
                                                    <span>üáπüá∑ Turkish</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Swedish')"
                                                >
                                                    <span>üá∏üá™ Swedish</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Norwegian')"
                                                >
                                                    <span>üá≥üá¥ Norwegian</span>
                                                </label>
                                                <label
                                                    class="multi-select-option"
                                                    onclick="selectLanguage('Auto-detect')"
                                                >
                                                    <span>üåê Auto-detect</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <button
                                            id="saveCV"
                                            class="btn btn-outline-success btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i
                                                class="fas fa-download me-2 text-success"
                                            ></i
                                            >Export CV
                                        </button>
                                        <button
                                            id="loadCV"
                                            class="btn btn-outline-info btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i
                                                class="fas fa-file-import me-2 text-info"
                                            ></i
                                            >Import CV
                                        </button>
                                        <button
                                            id="printCV"
                                            class="btn btn-outline-secondary btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i
                                                class="fas fa-print me-2 text-secondary"
                                            ></i
                                            >Print / Export PDF
                                        </button>
                                        <button
                                            id="clearCV"
                                            class="btn btn-outline-danger btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i
                                                class="fas fa-eraser me-2 text-danger"
                                            ></i
                                            >Clear CV
                                        </button>
                                        <button
                                            id="manageApiKey"
                                            class="btn btn-outline-warning btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i
                                                class="fas fa-key me-2 text-warning"
                                            ></i
                                            >API Key Settings
                                        </button>
                                        <button
                                            id="getAISuggestion"
                                            class="btn btn-primary btn-custom d-flex align-items-center justify-content-center"
                                        >
                                            <i class="fas fa-magic me-2"></i>Get
                                            AI Suggestions
                                        </button>
                                        <button
                                            id="helpBtn"
                                            class="btn btn-outline-info btn-custom d-flex align-items-center justify-content-center"
                                            data-bs-toggle="modal"
                                            data-bs-target="#helpModal"
                                        >
                                            <i
                                                class="fas fa-question-circle me-2 text-info"
                                            ></i
                                            >Help & Instructions
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="formContainer">
                            <div
                                id="personalInfoForm"
                                class="card card-custom animate-fade-in mb-4"
                            >
                                <div class="card-body p-4">
                                    <div
                                        class="d-flex align-items-center justify-content-between mb-4"
                                    >
                                        <div class="d-flex align-items-center">
                                            <div
                                                class="section-icon bg-success me-3"
                                            >
                                                <i class="fas fa-user"></i>
                                            </div>
                                            <h3 class="h5 mb-0 fw-bold">
                                                Personal Information
                                            </h3>
                                        </div>
                                    </div>

                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-signature me-2 text-primary"
                                                ></i
                                                >Full Name
                                            </label>
                                            <input
                                                type="text"
                                                id="fullName"
                                                class="form-control form-control-custom"
                                                placeholder="e.g., Jane Doe"
                                            />
                                        </div>

                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-briefcase me-2 text-primary"
                                                ></i
                                                >Job Title / Desired Role (Space
                                                for blank)
                                            </label>
                                            <input
                                                type="text"
                                                id="jobTitle"
                                                class="form-control form-control-custom"
                                                placeholder="e.g., Senior Software Engineer"
                                            />
                                        </div>

                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-envelope me-2 text-primary"
                                                ></i
                                                >Email
                                            </label>
                                            <input
                                                type="email"
                                                id="email"
                                                class="form-control form-control-custom"
                                                placeholder="jane.doe@example.com"
                                            />
                                        </div>

                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-phone me-2 text-primary"
                                                ></i
                                                >Phone
                                            </label>
                                            <input
                                                type="tel"
                                                id="phone"
                                                class="form-control form-control-custom"
                                                placeholder="(123) 456-7890"
                                            />
                                        </div>

                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-map-marker-alt me-2 text-primary"
                                                ></i
                                                >Location
                                            </label>
                                            <input
                                                type="text"
                                                id="location"
                                                class="form-control form-control-custom"
                                                placeholder="San Francisco, CA"
                                            />
                                        </div>

                                        <div class="col-12">
                                            <label
                                                class="form-label fw-semibold"
                                            >
                                                <i
                                                    class="fas fa-globe me-2 text-primary"
                                                ></i
                                                >Websites
                                            </label>
                                            <div class="input-group mb-2">
                                                <select
                                                    id="presetWebsiteSelect"
                                                    class="form-select form-control-custom"
                                                >
                                                    <option value="">
                                                        Select website
                                                    </option>
                                                    <option value="portfolio">
                                                        Portfolio
                                                    </option>
                                                    <option value="linkedin">
                                                        LinkedIn
                                                    </option>
                                                    <option value="github">
                                                        GitHub
                                                    </option>
                                                    <option value="instagram">
                                                        Instagram
                                                    </option>
                                                    <option value="twitter">
                                                        Twitter
                                                    </option>
                                                    <option value="personal">
                                                        Personal Website
                                                    </option>
                                                    <option value="custom">
                                                        Custom Website
                                                    </option>
                                                </select>
                                                <button
                                                    type="button"
                                                    id="addPresetWebsiteBtn"
                                                    class="btn btn-outline-secondary"
                                                >
                                                    Add
                                                </button>
                                            </div>
                                            <div
                                                id="websiteContainer"
                                                class="mb-2"
                                            ></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-lg-8 col-xl-8">
                    <div class="cv-preview p-5 animate-fade-in">
                        <div
                            id="cvHeader"
                            class="text-center position-relative mb-5"
                        >
                            <div
                                class="position-absolute top-0 start-0 w-100 h-100 rounded-3 opacity-50"
                                style="
                                    background: linear-gradient(
                                        135deg,
                                        #e3f2fd,
                                        #e5e8f5
                                    );
                                "
                            ></div>
                            <div
                                class="position-relative py-4"
                                id="cvHeaderContent"
                            >
                                <h2 class="display-4 fw-bold mb-2"></h2>
                                <p class="lead text-primary fw-medium mb-4"></p>
                                <div
                                    id="cvContactInfo"
                                    class="d-flex flex-wrap justify-content-center gap-3 text-muted mb-3"
                                ></div>
                                <div
                                    id="cvWebsites"
                                    class="d-flex flex-wrap justify-content-center gap-3"
                                ></div>
                            </div>
                        </div>

                        <div id="cvSectionsContainer"></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="aiSuggestionPopup" class="ai-suggestion-popup d-none">
            <div
                class="ai-popup-content bg rounded shadow-lg position-relative"
            >
                <div class="bg-primary text-white p-4 position-relative">
                    <button
                        id="closeAiPopup"
                        class="btn-close btn-close-white position-absolute top-0 end-0 m-3"
                    ></button>
                    <div class="d-flex align-items-center mb-3">
                        <div class="p-3 bg-white bg-opacity-25 rounded me-3">
                            <i class="fas fa-robot fs-4"></i>
                        </div>
                        <div>
                            <h3 class="h4 fw-bold mb-0">AI CV Analysis</h3>
                            <p class="mb-0 opacity-75">
                                Personalized suggestions to enhance your CV
                                <span
                                    id="aiLanguageIndicator"
                                    class="ms-2 badge bg-light text-dark"
                                    >üåê English</span
                                >
                            </p>
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-4">
                            <div
                                class="bg-white bg-opacity-10 rounded p-3 text-center"
                            >
                                <div
                                    class="h5 fw-bold mb-0"
                                    id="aiAnalysisScore"
                                >
                                    --
                                </div>
                                <div class="small opacity-75">
                                    Overall Score
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div
                                class="bg-white bg-opacity-10 rounded p-3 text-center"
                            >
                                <div
                                    class="h5 fw-bold mb-0"
                                    id="aiSuggestionsCount"
                                >
                                    --
                                </div>
                                <div class="small opacity-75">Suggestions</div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div
                                class="bg-white bg-opacity-10 rounded p-3 text-center"
                            >
                                <div class="h5 fw-bold mb-0" id="aiImpactLevel">
                                    --
                                </div>
                                <div class="small opacity-75">Impact Level</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="overflow-auto" style="max-height: 60vh">
                    <div class="p-4 border-bottom">
                        <h4
                            class="h6 fw-semibold mb-3 d-flex align-items-center"
                        >
                            <i class="fas fa-magic me-2 text-purple"></i>
                            Quick AI Actions
                        </h4>
                        <div class="row g-2">
                            <div class="col-6 col-md-3">
                                <button
                                    onclick="cvGenius.quickAIAction('enhance_summary')"
                                    class="btn btn-outline-primary btn-sm w-100 text-center"
                                >
                                    <i
                                        class="fas fa-user-edit d-block mb-1"
                                    ></i>
                                    <span class="small">Enhance Summary</span>
                                </button>
                            </div>
                            <div class="col-6 col-md-3">
                                <button
                                    onclick="cvGenius.quickAIAction('optimize_keywords')"
                                    class="btn btn-outline-primary btn-sm w-100 text-center"
                                >
                                    <i class="fas fa-key d-block mb-1"></i>
                                    <span class="small">Add Keywords</span>
                                </button>
                            </div>
                            <div class="col-6 col-md-3">
                                <button
                                    onclick="cvGenius.quickAIAction('improve_experience')"
                                    class="btn btn-outline-primary btn-sm w-100 text-center"
                                >
                                    <i
                                        class="fas fa-briefcase d-block mb-1"
                                    ></i>
                                    <span class="small"
                                        >Improve Experience</span
                                    >
                                </button>
                            </div>
                            <div class="col-6 col-md-3">
                                <button
                                    onclick="cvGenius.quickAIAction('suggest_skills')"
                                    class="btn btn-outline-primary btn-sm w-100 text-center"
                                >
                                    <i class="fas fa-cogs d-block mb-1"></i>
                                    <span class="small">Suggest Skills</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="p-4">
                        <div
                            class="d-flex align-items-center justify-content-between mb-3"
                        >
                            <h4
                                class="h6 fw-semibold mb-0 d-flex align-items-center"
                            >
                                <i
                                    class="fas fa-lightbulb me-2 text-warning"
                                ></i>
                                Personalized Suggestions
                            </h4>
                            <div class="d-flex gap-2">
                                <select
                                    id="aiFilterPriority"
                                    class="form-select form-select-sm"
                                >
                                    <option value="all">All Priorities</option>
                                    <option value="high">High Priority</option>
                                    <option value="medium">
                                        Medium Priority
                                    </option>
                                    <option value="low">Low Priority</option>
                                </select>
                                <select
                                    id="aiFilterType"
                                    class="form-select form-select-sm"
                                >
                                    <option value="all">All Types</option>
                                    <option value="content">Content</option>
                                    <option value="formatting">
                                        Formatting
                                    </option>
                                    <option value="skills">Skills</option>
                                    <option value="experience">
                                        Experience
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div id="suggestionsList"></div>
                    </div>
                </div>

                <div class="bg p-4 border-top">
                    <div
                        class="d-flex flex-wrap gap-3 justify-content-between align-items-center"
                    >
                        <div class="d-flex gap-3">
                            <button
                                onclick="cvGenius.generateAISuggestions()"
                                class="btn btn-primary"
                            >
                                <i class="fas fa-refresh me-2"></i>Regenerate
                                Analysis
                            </button>
                            <button
                                onclick="cvGenius.exportSuggestions()"
                                class="btn btn-outline-secondary"
                            >
                                <i class="fas fa-download me-2"></i>Export
                                Report
                            </button>
                        </div>
                        <div class="small text-muted d-flex align-items-center">
                            <i class="fas fa-shield-alt me-1"></i>
                            Powered by AI ‚Ä¢ Your data stays private
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <!-- CV Genius Modular Scripts -->
        <script src="js/core.js"></script>
        <script src="js/ui.js"></script>
        <script src="js/personal-info.js"></script>
        <script src="js/sections.js"></script>
        <script src="js/ai.js"></script>
        <script src="js/export.js"></script>
        <script src="js/utils.js"></script>

        <script>
            // Language selector functionality
            let currentLanguage = "English";

            function toggleLanguageSelect() {
                const dropdown = document.getElementById("language-dropdown");
                const arrow = document.querySelector(".multi-select-arrow");

                if (dropdown.style.display === "block") {
                    dropdown.style.display = "none";
                    arrow.style.transform = "rotate(0deg)";
                } else {
                    dropdown.style.display = "block";
                    arrow.style.transform = "rotate(180deg)";
                }
            }

            function selectLanguage(language) {
                currentLanguage = language;
                const displayText = document.getElementById(
                    "languageDisplayText"
                );
                const dropdown = document.getElementById("language-dropdown");
                const arrow = document.querySelector(".multi-select-arrow");

                // Update display text
                displayText.textContent = language;
                displayText.className = "multi-select-text selected";

                // Close dropdown
                dropdown.style.display = "none";
                arrow.style.transform = "rotate(0deg)";

                // Save to localStorage and update CVGenius
                localStorage.setItem("cvg_language", language);
                localStorage.setItem("cvg_ai_language", language);

                if (window.cvGenius) {
                    window.cvGenius.language = language;
                    window.cvGenius.cvData.personalInfo.language = language;
                    window.cvGenius.showNotification(
                        `Language set to ${language}`,
                        "success",
                        3000
                    );
                }

                // Update language indicator in AI popup if it exists
                const aiLanguageIndicator = document.getElementById(
                    "aiLanguageIndicator"
                );
                if (aiLanguageIndicator) {
                    aiLanguageIndicator.textContent = `üåê ${language}`;
                }
            }

            function filterLanguageOptions(searchValue) {
                const options = document.querySelectorAll(
                    "#language-dropdown .multi-select-option"
                );
                searchValue = searchValue.toLowerCase();

                options.forEach((option) => {
                    const text = option
                        .querySelector("span")
                        .textContent.toLowerCase();
                    option.style.display = text.includes(searchValue)
                        ? "flex"
                        : "none";
                });
            }

            // Close dropdown when clicking outside
            document.addEventListener("click", function (event) {
                if (!event.target.closest(".multi-select-wrapper")) {
                    const dropdown =
                        document.getElementById("language-dropdown");
                    const arrow = document.querySelector(".multi-select-arrow");
                    if (dropdown && arrow) {
                        dropdown.style.display = "none";
                        arrow.style.transform = "rotate(0deg)";
                    }
                }
            });

            // Initialize language selector on page load
            document.addEventListener("DOMContentLoaded", function () {
                const savedLanguage =
                    localStorage.getItem("cvg_language") || "English";
                selectLanguage(savedLanguage);
            });
        </script>

        <!-- Help Modal -->
        <div
            class="modal fade"
            id="helpModal"
            tabindex="-1"
            aria-labelledby="helpModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header bg-primary text-white">
                        <h5
                            class="modal-title d-flex align-items-center"
                            id="helpModalLabel"
                        >
                            <i class="fas fa-question-circle me-2"></i>
                            CV Genius - Help & Instructions
                        </h5>
                        <button
                            type="button"
                            class="btn-close btn-close-white"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <!-- Quick Start Section -->
                        <div class="mb-4">
                            <h6 class="fw-bold text-primary mb-3">
                                <i class="fas fa-rocket me-2"></i>Quick Start
                                Guide
                            </h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div
                                        class="card h-100 border-primary border-opacity-25"
                                    >
                                        <div class="card-body">
                                            <h6 class="card-title text-primary">
                                                <i class="fas fa-user me-2"></i
                                                >1. Personal Information
                                            </h6>
                                            <p class="card-text small">
                                                Fill in your basic details like
                                                name, email, phone, and location
                                                in the left panel.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div
                                        class="card h-100 border-success border-opacity-25"
                                    >
                                        <div class="card-body">
                                            <h6 class="card-title text-success">
                                                <i class="fas fa-plus me-2"></i
                                                >2. Add Sections
                                            </h6>
                                            <p class="card-text small">
                                                Click "Add New Section" to
                                                include experience, education,
                                                skills, and more.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Features Section -->
                        <div class="mb-4">
                            <h6 class="fw-bold text-primary mb-3">
                                <i class="fas fa-star me-2"></i>Key Features
                            </h6>
                            <div class="accordion" id="featuresAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#aiFeatures"
                                        >
                                            <i
                                                class="fas fa-magic me-2 text-purple"
                                            ></i
                                            >AI-Powered Suggestions
                                        </button>
                                    </h2>
                                    <div
                                        id="aiFeatures"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#featuresAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ul class="list-unstyled">
                                                <li>
                                                    <i
                                                        class="fas fa-check text-success me-2"
                                                    ></i
                                                    >Get personalized CV
                                                    improvement suggestions
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-check text-success me-2"
                                                    ></i
                                                    >Enhance your summary and
                                                    job descriptions
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-check text-success me-2"
                                                    ></i
                                                    >Optimize keywords for your
                                                    industry
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-check text-success me-2"
                                                    ></i
                                                    >Improve skills section with
                                                    relevant suggestions
                                                </li>
                                            </ul>
                                            <div class="alert alert-info small">
                                                <i
                                                    class="fas fa-info-circle me-2"
                                                ></i>
                                                <strong>Note:</strong> Configure
                                                your API key in settings for AI
                                                features.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#exportFeatures"
                                        >
                                            <i
                                                class="fas fa-download me-2 text-info"
                                            ></i
                                            >Export & Print Options
                                        </button>
                                    </h2>
                                    <div
                                        id="exportFeatures"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#featuresAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ul class="list-unstyled">
                                                <li>
                                                    <i
                                                        class="fas fa-file-pdf text-danger me-2"
                                                    ></i
                                                    >Export as PDF
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-print text-secondary me-2"
                                                    ></i
                                                    >Print-ready format
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-file-code text-warning me-2"
                                                    ></i
                                                    >Save as JSON for backup
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-file-import text-success me-2"
                                                    ></i
                                                    >Import existing CV data
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#customization"
                                        >
                                            <i
                                                class="fas fa-palette me-2 text-warning"
                                            ></i
                                            >Customization Options
                                        </button>
                                    </h2>
                                    <div
                                        id="customization"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#featuresAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ul class="list-unstyled">
                                                <li>
                                                    <i
                                                        class="fas fa-globe me-2 text-primary"
                                                    ></i
                                                    >Multi-language support (18+
                                                    languages)
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-moon me-2 text-dark"
                                                    ></i
                                                    >Dark/Light theme toggle
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-sort me-2 text-secondary"
                                                    ></i
                                                    >Reorder sections easily
                                                </li>
                                                <li>
                                                    <i
                                                        class="fas fa-plus-circle me-2 text-success"
                                                    ></i
                                                    >Add custom sections
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step-by-step Instructions -->
                        <div class="mb-4">
                            <h6 class="fw-bold text-primary mb-3">
                                <i class="fas fa-list-ol me-2"></i>Step-by-Step
                                Instructions
                            </h6>
                            <div class="timeline">
                                <div class="timeline-item">
                                    <div
                                        class="timeline-marker bg-primary"
                                    ></div>
                                    <div class="timeline-content">
                                        <h6 class="fw-semibold">
                                            Fill Personal Information
                                        </h6>
                                        <p class="small text-muted mb-0">
                                            Enter your full name, job title,
                                            contact details, and professional
                                            websites.
                                        </p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div
                                        class="timeline-marker bg-success"
                                    ></div>
                                    <div class="timeline-content">
                                        <h6 class="fw-semibold">
                                            Add CV Sections
                                        </h6>
                                        <p class="small text-muted mb-0">
                                            Click "Add New Section" and choose
                                            from Summary, Experience, Education,
                                            Skills, or Custom sections.
                                        </p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-marker bg-info"></div>
                                    <div class="timeline-content">
                                        <h6 class="fw-semibold">
                                            Use AI Suggestions
                                        </h6>
                                        <p class="small text-muted mb-0">
                                            Click "Get AI Suggestions" to
                                            receive personalized recommendations
                                            for improvement.
                                        </p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div
                                        class="timeline-marker bg-warning"
                                    ></div>
                                    <div class="timeline-content">
                                        <h6 class="fw-semibold">
                                            Customize & Review
                                        </h6>
                                        <p class="small text-muted mb-0">
                                            Reorder sections, adjust content,
                                            and review your CV in real-time
                                            preview.
                                        </p>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div
                                        class="timeline-marker bg-danger"
                                    ></div>
                                    <div class="timeline-content">
                                        <h6 class="fw-semibold">
                                            Export Your CV
                                        </h6>
                                        <p class="small text-muted mb-0">
                                            Use "Export CV" to save as JSON or
                                            "Print/Export PDF" for final
                                            document.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tips Section -->
                        <div class="mb-4">
                            <h6 class="fw-bold text-primary mb-3">
                                <i class="fas fa-lightbulb me-2"></i>Pro Tips
                            </h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="alert alert-success">
                                        <h6 class="alert-heading fw-semibold">
                                            <i class="fas fa-save me-2"></i
                                            >Auto-Save
                                        </h6>
                                        <p class="mb-0 small">
                                            Your CV data is automatically saved
                                            to your browser's local storage as
                                            you type.
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="alert alert-info">
                                        <h6 class="alert-heading fw-semibold">
                                            <i
                                                class="fas fa-mobile-alt me-2"
                                            ></i
                                            >Mobile Friendly
                                        </h6>
                                        <p class="mb-0 small">
                                            CV Genius works perfectly on mobile
                                            devices and tablets.
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="alert alert-warning">
                                        <h6 class="alert-heading fw-semibold">
                                            <i
                                                class="fas fa-shield-alt me-2"
                                            ></i
                                            >Privacy
                                        </h6>
                                        <p class="mb-0 small">
                                            All your data stays in your browser
                                            - nothing is sent to external
                                            servers.
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="alert alert-primary">
                                        <h6 class="alert-heading fw-semibold">
                                            <i class="fas fa-keyboard me-2"></i
                                            >Shortcuts
                                        </h6>
                                        <p class="mb-0 small">
                                            Use Ctrl+P to quickly print your CV,
                                            or Ctrl+S to export.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Troubleshooting -->
                        <div class="mb-4">
                            <h6 class="fw-bold text-primary mb-3">
                                <i class="fas fa-wrench me-2"></i
                                >Troubleshooting
                            </h6>
                            <div
                                class="accordion"
                                id="troubleshootingAccordion"
                            >
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#aiNotWorking"
                                        >
                                            AI suggestions not working?
                                        </button>
                                    </h2>
                                    <div
                                        id="aiNotWorking"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#troubleshootingAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ol class="small">
                                                <li>
                                                    Check if you've configured
                                                    your API key in "API Key
                                                    Settings"
                                                </li>
                                                <li>
                                                    Ensure you have an active
                                                    internet connection
                                                </li>
                                                <li>
                                                    Try refreshing the page and
                                                    generating suggestions again
                                                </li>
                                                <li>
                                                    Make sure your CV has enough
                                                    content for AI analysis
                                                </li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#dataLost"
                                        >
                                            Lost my CV data?
                                        </button>
                                    </h2>
                                    <div
                                        id="dataLost"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#troubleshootingAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ul class="small">
                                                <li>
                                                    Check if you're using the
                                                    same browser and device
                                                </li>
                                                <li>
                                                    Look for exported JSON files
                                                    in your downloads
                                                </li>
                                                <li>
                                                    Try refreshing the page -
                                                    auto-save might recover your
                                                    data
                                                </li>
                                                <li>
                                                    Clear browser cache only as
                                                    a last resort
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button
                                            class="accordion-button collapsed"
                                            type="button"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#printIssues"
                                        >
                                            Print/PDF export issues?
                                        </button>
                                    </h2>
                                    <div
                                        id="printIssues"
                                        class="accordion-collapse collapse"
                                        data-bs-parent="#troubleshootingAccordion"
                                    >
                                        <div class="accordion-body">
                                            <ul class="small">
                                                <li>
                                                    Try using Chrome or Firefox
                                                    for best PDF export results
                                                </li>
                                                <li>
                                                    Check your printer/PDF
                                                    settings for margins and
                                                    page size
                                                </li>
                                                <li>
                                                    Ensure your CV content fits
                                                    within reasonable page
                                                    limits
                                                </li>
                                                <li>
                                                    Try the browser's built-in
                                                    print function (Ctrl+P) as
                                                    alternative
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer bg-light">
                        <div
                            class="d-flex justify-content-between align-items-center w-100"
                        >
                            <small class="text-muted">
                                <i class="fas fa-heart text-danger me-1"></i>
                                Made with love by Micha≈Ç Dakowicz
                            </small>
                            <button
                                type="button"
                                class="btn btn-primary"
                                data-bs-dismiss="modal"
                            >
                                <i class="fas fa-check me-2"></i>Got it!
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
